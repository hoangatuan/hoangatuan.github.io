---
import PageLayout from "../../layouts/PageLayout.astro";
import BlogList from "../../components/blog/List.astro";
import { fetchPosts } from "../../utils/blog.ts";
import Pagination from "../../components/common/Pagination.astro";

// Define an async function to fetch posts and await its result
const getPosts = async () => {
  const posts = await fetchPosts();
  return posts;
};

// Fetch posts asynchronously and store them in a variable
const posts = await getPosts();
---

<PageLayout>
  <BlogList prefix="articles" posts={posts} />
  <div class="flex justify-center">
    <Pagination/>
  </div>
</PageLayout>